# 量化交易系统GUI使用指南

## 🎯 功能概述

本GUI界面为Lighter量化交易系统提供了完整的可视化操作界面，包含以下主要功能：

- ✅ **交易对选择** - 支持多种数字货币交易对
- ✅ **策略配置** - 可视化配置各种交易策略参数
- ✅ **实时K线图** - 显示实时价格走势和技术指标
- ✅ **持仓监控** - 实时显示持仓信息和风险指标
- ✅ **交易控制** - 一键开始/停止交易
- ✅ **风险控制** - 实时风险监控和预警
- ✅ **邮件通知** - 重要事件邮件提醒

## 🚀 快速开始

### 1. 环境准备

```bash
# 安装依赖
pip install -r requirements.txt

# 检查依赖
python start_gui.py
```

### 2. 启动GUI

```bash
# 启动图形界面
python start_gui.py
```

### 3. 配置设置

首次启动需要配置以下内容：
- 邮件通知设置
- 交易策略参数
- 风险控制参数

## 📊 界面布局

### 主界面结构

```
┌─────────────────────────────────────────────────────────────┐
│                    菜单栏                                    │
├─────────────┬───────────────────────────────────────────────┤
│             │                                               │
│   左侧控制面板  │                右侧显示区域                    │
│             │                                               │
│  ┌─────────┐ │  ┌─────────────────────────────────────────┐ │
│  │交易控制  │ │  │              K线图区域                   │ │
│  └─────────┘ │  └─────────────────────────────────────────┘ │
│             │                                               │
│  ┌─────────┐ │  ┌─────────────────────────────────────────┐ │
│  │策略配置  │ │  │            持仓信息区域                  │ │
│  └─────────┘ │  └─────────────────────────────────────────┘ │
│             │                                               │
│  ┌─────────┐ │  ┌─────────────────────────────────────────┐ │
│  │设置面板  │ │  │            交易历史区域                  │ │
│  └─────────┘ │  └─────────────────────────────────────────┘ │
└─────────────┴───────────────────────────────────────────────┘
```

## 🎮 功能详解

### 1. 交易控制面板

#### 交易对选择
- **下拉框选择**: 支持BTC_USDT、ETH_USDT等主流交易对
- **实时价格**: 显示当前价格和24小时涨跌幅
- **市场ID**: 显示对应的市场标识

#### 交易控制
- **开始交易**: 启动选定的交易策略
- **停止交易**: 安全停止所有交易
- **紧急停止**: 立即平仓并停止交易

#### 账户信息
- **账户余额**: 显示总资产
- **可用余额**: 可用于交易的资金
- **已用保证金**: 当前占用的保证金
- **未实现盈亏**: 持仓的浮动盈亏

#### 交易统计
- **今日交易**: 当日交易次数
- **今日盈亏**: 当日盈亏金额
- **胜率**: 交易成功率
- **最大回撤**: 历史最大回撤

### 2. 策略配置面板

#### 策略选择
- **UT Bot**: 基于ATR追踪止损的趋势策略
- **均值回归**: 基于价格偏离均值的反转策略
- **动量策略**: 基于价格动量的趋势策略
- **套利策略**: 基于价差的套利策略

#### 参数配置

**UT Bot参数**:
- 关键值: 影响策略敏感度 (0.1-5.0)
- ATR周期: 计算ATR的周期 (5-50)
- 使用Heikin Ashi: 是否使用平均K线
- 仓位大小: 每次交易仓位比例 (0.01-1.0)
- 止损比例: 止损触发比例 (0.001-0.1)
- 止盈比例: 止盈触发比例 (0.001-0.1)

**均值回归参数**:
- 回望周期: 计算均值的周期 (10-100)
- 阈值: 偏离均值的阈值 (1.0-5.0)
- 仓位大小、止损、止盈设置

**动量策略参数**:
- 短期周期: 短期均线周期 (3-20)
- 长期周期: 长期均线周期 (10-50)
- 动量阈值: 动量信号阈值 (0.001-0.1)
- 仓位大小、止损、止盈设置

**套利策略参数**:
- 市场1 ID: 第一个市场标识 (0-10)
- 市场2 ID: 第二个市场标识 (0-10)
- 价格阈值: 套利触发阈值 (0.001-0.1)
- 仓位大小、止损、止盈设置

#### 风险控制
- **最大仓位**: 单次最大仓位比例 (0.01-1.0)
- **最大杠杆**: 最大杠杆倍数 (1.0-20.0)
- **最大日亏损**: 每日最大亏损比例 (0.001-0.5)
- **最大回撤**: 历史最大回撤限制 (0.001-0.5)

### 3. K线图面板

#### 图表控制
- **交易对选择**: 切换显示不同交易对
- **时间周期**: 1m, 5m, 15m, 30m, 1h, 4h, 1d
- **数据量**: 显示K线数量 (50-1000)
- **技术指标**: MA, EMA, RSI, MACD等

#### 技术指标
- **移动平均线(MA)**: 5日、10日、20日均线
- **指数移动平均线(EMA)**: 5日、10日、20日EMA
- **RSI指标**: 相对强弱指数
- **MACD指标**: 移动平均收敛散度
- **布林带**: 价格通道指标

#### 图表功能
- **缩放**: 鼠标滚轮缩放
- **平移**: 拖拽移动图表
- **十字线**: 显示精确价格和时间
- **全屏**: 全屏显示图表

### 4. 持仓信息面板

#### 当前持仓
- **持仓列表**: 显示所有当前持仓
- **交易对**: 持仓的交易对
- **方向**: 多头/空头
- **数量**: 持仓数量
- **开仓价格**: 开仓时的价格
- **当前价格**: 当前市场价格
- **未实现盈亏**: 浮动盈亏
- **盈亏比例**: 盈亏百分比
- **操作**: 平仓按钮

#### 交易历史
- **交易记录**: 历史交易列表
- **时间**: 交易时间
- **交易对**: 交易品种
- **方向**: 买入/卖出
- **数量**: 交易数量
- **价格**: 成交价格
- **手续费**: 交易费用
- **已实现盈亏**: 实际盈亏
- **状态**: 交易状态
- **备注**: 交易备注

#### 账户信息
- **账户概览**: 总资产、可用资金等
- **资产分布**: 各币种资产占比
- **资金曲线**: 资产变化趋势

#### 风险监控
- **当前仓位**: 仓位比例和进度条
- **杠杆倍数**: 当前杠杆和进度条
- **今日亏损**: 当日亏损比例
- **最大回撤**: 历史最大回撤
- **风险警告**: 风险提示信息

## ⚙️ 配置说明

### 1. 邮件通知配置

```yaml
notifications:
  email:
    enabled: true
    smtp_server: "smtp.gmail.com"
    smtp_port: 587
    username: "your_email@gmail.com"
    password: "your_app_password"
    from_email: "your_email@gmail.com"
    to_emails: ["recipient@gmail.com"]
```

### 2. 图表配置

```yaml
charts:
  default_timeframe: "1m"
  default_limit: 200
  update_interval: 5000
  indicators:
    ma: true
    ema: false
    rsi: false
    macd: false
```

### 3. 风险控制配置

```yaml
risk_control:
  max_position_size: 0.1
  max_leverage: 5.0
  max_daily_loss: 0.02
  max_drawdown: 0.1
```

## 🎯 使用流程

### 1. 首次使用

1. **启动程序**: 运行 `python start_gui.py`
2. **配置邮件**: 在设置中配置邮件通知
3. **选择交易对**: 从下拉框选择要交易的币种
4. **配置策略**: 选择策略并调整参数
5. **设置风险**: 配置风险控制参数
6. **开始交易**: 点击"开始交易"按钮

### 2. 日常使用

1. **监控图表**: 观察价格走势和技术指标
2. **检查持仓**: 查看当前持仓和盈亏情况
3. **调整参数**: 根据市场情况调整策略参数
4. **风险控制**: 监控风险指标和警告信息
5. **查看通知**: 关注邮件通知和系统提醒

### 3. 紧急情况

1. **紧急停止**: 点击"紧急停止"按钮
2. **平仓操作**: 在持仓面板中平仓特定持仓
3. **检查日志**: 查看错误日志和系统状态
4. **联系支持**: 如需要技术支持

## 🔧 快捷键

- `Ctrl+S`: 开始交易
- `Ctrl+T`: 停止交易
- `F5`: 刷新数据
- `Ctrl+,`: 打开设置
- `Ctrl+C`: 平仓
- `Ctrl+E`: 紧急停止

## 🛠️ 故障排除

### 1. 常见问题

**问题**: GUI无法启动
**解决**: 检查依赖安装，运行 `pip install -r requirements.txt`

**问题**: 图表不显示
**解决**: 安装matplotlib，运行 `pip install matplotlib`

**问题**: 邮件通知失败
**解决**: 检查邮件配置和网络连接

**问题**: 数据不更新
**解决**: 检查网络连接和API配置

### 2. 调试模式

```bash
# 启用调试模式
export DEBUG=1
python start_gui.py
```

### 3. 日志查看

```bash
# 查看GUI日志
tail -f logs/gui.log

# 查看交易日志
tail -f logs/quant_trading.log
```

## 📈 最佳实践

### 1. 策略配置
- 从小仓位开始测试
- 设置合理的止损止盈
- 定期调整参数
- 监控策略表现

### 2. 风险控制
- 设置严格的仓位限制
- 监控杠杆使用情况
- 关注回撤指标
- 及时调整风险参数

### 3. 监控管理
- 定期检查持仓情况
- 关注市场变化
- 及时响应通知
- 保持系统稳定运行

## 🎉 总结

本GUI界面提供了完整的量化交易可视化操作环境，通过直观的界面设计和丰富的功能特性，让用户能够轻松进行量化交易策略的配置、监控和管理。无论是初学者还是专业交易者，都能从中获得良好的使用体验。

记住：量化交易有风险，请谨慎操作，合理配置参数，严格控制风险！

